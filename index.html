<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Currently leading product design at Sidewire in San Francisco, California.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Tachyons v4.5.5 -->
        <link rel="stylesheet" href="tachyons.min.css">
        <link rel="stylesheet" href="style.css">
        <title>Michael Schultz</title>
        <script> 
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-534843-30', 'auto');
            ga('send', 'pageview');

            function trackOutboundLink(url) {
               ga('send', 'event', 'outbound', 'click', url, {
                 'transport': 'beacon',
                 'hitCallback': function(){document.location = url;}
               });
            }
        </script>
    </head>
    <body class="bg-dark-blue shapes">
        <header class="mw8 center mt4 flex flex-column flex-row-ns justify-between">
            <h1 class="color-pink i pa2" style="flex-shrink: 0"><a href="./" class="color-pink hover-pink link">Michael Schultz</a></h1>
            <nav class="flex items-center tc">
                <a class="link color-pink hover-pink dib f6 fw4 ttu tracked pv3 pl2 pr3"
                    href="http://twitter.com/michaelschultz"
                    onclick="trackOutboundLink('http://twitter.com/michaelschultz'); return false;">
                    Twitter
                </a> 
                <a class="link color-pink hover-pink dib f6 fw4 ttu tracked pa3"
                    href="http://github.com/michaelwschultz"
                    onclick="trackOutboundLink('http://github.com/michaelwschultz'); return false;">
                    github
                </a> 
                <a class="link color-pink hover-pink dib f6 fw4 ttu tracked pa3"
                    href="http://instagram.com/michaelschultz"
                    onclick="trackOutboundLink('http://instagram.com/michaelschultz'); return false;">
                    Instagram
                </a>
                <!-- <a class="link color-pink hover-pink dib f6 fw4 ttu tracked pv3 pl3 pr2"
                    href="http://twitch.com/idigg"
                    onclick="trackOutboundLink('http://twitch.com/idigg'); return false;">
                    Twitch <span id="status" style="display: none;" class="bg-pink white br2 ph1 f6">Live Now</span>
                </a> -->
            </nav>
        </header>

        <section class="mw8 center mt5">
            <div class="bg-pink br2 ma1 pa4">
                <h2 class="white f5 ph2 lh-title">Designer of helpful things currently living in San Francisco. Wanna get in touch? Reach out on Twitter <a class="white hover-pink" href="http://twitter.com/michaelschultz">@michaelschultz</a>.</h2>
            </div>
        </section>

        <section class="mw8 center mt5">
            <div class="flex justify-between">
                <h2 class="color-blue pa2 pb3">Some things I've been working on</h2>
                <a href="./projects.html" class="white hover-blue lh-title f5 pa2 pb3">More projects</a>
            </div>
            <div class="cf">
                <div class="fl w-100-m w-75-ns">
                    <div class="bg-blue br2 ma1">
                        <h2 class="white pa4 lh-title">Design @ Sidewire</h2>
                        <div class="fr w-100 w-50-ns ph4 pb4">
                            <a href="http://sidewire.com"
                                onclick="trackOutboundLink('http://sidewire.com'); return false;"><img class="br2" src="./assets/sidewire-thumbnail.jpg" />
                            </a>
                        </div>
                        <p class="white ph4 pb2 lh-copy">
                            Sidewire’s a place where you can find experts and insiders breaking down the day’s news in public chats.
                        </p>
                        <p class="white ph4 pb2 lh-copy">
                            I’ve been at Sidewire since November 2015 and have been the sole designer since June 2016. We’ve transformed our social platform into an awesome place for experts and readers alike. The best thing about Sidewire is that every expert is verified (no trolls!). We’ve had some incredible conversations that I don’t think could happen anywhere else.
                        </p>
                        <p class="white ph4 pb5 lh-copy">
                            You can check it out at <a class="white hover-blue" href="http://sidewire.com" onclick="trackOutboundLink('http://sidewire.com'); return false;">sidewire.com</a> or download the app on iOS or Android.
                        </p>
                    </div>
                </div>
                <div class="fl w-100-m w-25-ns">
                    <div class="fl w-100 w-50-m pa1">
                        <div class="relative w-100">
                            <h2 class="white absolute pa1 bottom-0 pl3 f6 fw4 ttu tracked" style="pointer-events: none; z-index: 10;">Cousins The Podcast</h2>
                            <a href="http://bumpers.fm/michaelschultz"
                                class="darken"
                                onclick="trackOutboundLink('http://bumpers.fm/michaelschultz'); return false;">
                                <img src="./assets/michael-luke.jpg" class="w-100 br2" style="min-height: 225px;"></a>
                        </div>
                    </div>
                    <div class="fl w-100 w-50-m pa1">
                        <div class="relative w-100">
                            <h2 class="white absolute pa1 bottom-0 pl3 f6 fw4 ttu tracked" style="pointer-events: none; z-index: 10;">Iodine</h2>
                            <a href="./projects.html#iodine" class="darken"><img src="./assets/start-worth-screenshot.jpg" class="w-100 br2" style="min-height: 225px;"></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mw8 center mt5">
            <h2 class="color-blue pa2 pb3">Have a look at some photos I’ve taken of people and things I like</h2>

            <div id="instafeed" class="flex flex-wrap"></div>
        </section>

        <section class="mw8 center mt5">
            <div class="flex items-center mb1">
                <a href="http://www.last.fm/user/michaelschultz" class="ph2" style="flex-shrink: 0"><img src="./assets/record-player.svg" id="recordPlayer" width="24px" height="24px"></a>
                <p id="currentSong" class="color-pink i f4">loading song data from last.fm...</p>
            </div>
            <p class="color-blue pa2 pb3">Here's some music that’s been dominating my headphones this week</p>
            <div id="myLastFm" class="cf">
                <div id="firstArtist">
                    <!-- get first arists and make it bigger -->
                </div>
                <div id="artists">
                    <!-- get arists -->
                </div>
            </div>

        </section>

        <section class="mw8 center mv5">
            <h2 class="color-blue lh-title w-60-ns pa2">If you’re a designer living in or visiting SF and we haven’t met yet, shoot me a message and let’s grab a coffee. My treat.</h2>
            <p class="color-blue pa2 lh-copy">Bonus! These are some other folks I'd be happy to introduce you to.</p>
            <div class="flex mt3">
                <div>
                    <div class="pa2">
                        <a href="http://twitter.com/sirbenlee"><img class="db w-100 br2" src="./assets/friends/ben-lee.jpg"></a>
                    </div>
                    <div class="pa2">
                        <a href="http://twitter.com/brian_lovin"><img class="db w-100 br2" src="./assets/friends/brian-lovin.jpg"></a>
                    </div>
                </div>
                <div>
                    <div class="pa2">
                        <a href="http://twitter.com/uberbryn"><img class="db w-100 br2" src="./assets/friends/bryn-jackson.jpg"></a>
                    </div>
                    <div class="pa2">
                        <a href="http://twitter.com/schombombadil"><img class="db w-100 br2" src="./assets/friends/meredith-schomburg.jpg"></a>
                    </div>
                </div>
                <div>
                    <div class="pa2">
                        <a href="http://twitter.com/gabrielvaldivia"><img class="db w-100 br2" src="./assets/friends/gabe-valdivia.jpg"></a>
                    </div>
                    <div class="pa2">
                        <a href="http://twitter.com/luketns"><img class="db w-100 br2" src="./assets/friends/luke-schultz.png"></a>
                    </div>
                </div>
                <div>
                    <div class="pa2">
                        <a href="http://twitter.com/kleinmaetschke"><img class="db w-100 br2" src="./assets/friends/klein-maetschke.jpg"></a>
                    </div>
                    <div class="pa2">
                        <a href="http://twitter.com/sarahberus"><img class="db w-100 br2" src="./assets/friends/sarah-jackson.jpg"></a>
                    </div>
                </div>
                <div>
                    <div class="pa2">
                        <a href="http://twitter.com/littlenono"><img class="db w-100 br2" src="./assets/friends/linda-eliasen.jpg"></a>
                    </div>
                    <div class="pa2">
                        <a href="http://twitter.com/charliedeets"><img class="db w-100 br2" src="./assets/friends/charlie-deets.jpg"></a>
                    </div>
                </div>
                <div>
                    <div class="pa2">
                        <a href="http://twitter.com/jeffpersonified"><img class="db w-100 br2" src="./assets/friends/jeff-smith.jpg"></a>
                    </div>
                    <div class="pa2">
                        <a href="http://twitter.com/ndaught"><img class="db w-100 br2" src="./assets/friends/nate-daught.jpg"></a>
                    </div>
                </div>
            </div>
        </section>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script>
            // check Twitch to see if I'm streaming
            function twitchStream() {
                $.ajax({
                    type: 'GET',
                    url: 'https://api.twitch.tv/kraken/streams/idigg',
                    headers: {
                       'Client-ID': 'huq9j1mhn1y324eetrl4o31sgazr27b'
                    },
                    success: function(channel) {
                        if (channel["stream"] == null) { 
                            console.log("stream offline");
                        } else {
                            console.log("stream online");
                            $("#status").css({"display": "inline-block"});
                        }
                    }
                });
            }

            // Adds a listener that detects when tab is hidden
            // document.addEventListener('visibilitychange', function(){
            //     if (document.hidden) {
            //         clearInterval(checkTwitch);
            //     } else {
            //         twitchStream();
            //         checkTwitch = setInterval(twitchStream, 30000);
            //     }
            // }, false);

            // run once when page loads
            // twitchStream();

            // start checking every 30 seconds after page loads
            // var checkTwitch = setInterval(twitchStream, 30000);
        </script>
        <script>
            const lastFMFavoriteArtists = () => {
                $.ajax({
                    type: 'GET',
                    url: 'https://ws.audioscrobbler.com/2.0/?method=user.gettopartists&user=michaelschultz&period=7day&api_key=a598c3064191ff18ee9756b6d8e41ea4&format=json',
                    success: function(data) {
                        if (data) {
                            let topArtists = data.topartists.artist;
                            let firstArtist = document.getElementById('firstArtist');
                            let artists = document.getElementById('artists');
                            let artistImage = "";

                            // iterate through and return 5 artists
                            for (let i = 0; i < 5; i++) {

                                // iterate through each artist and extract the image path
                                for (let r = 0; r < topArtists[i].image.length; r++) {
                                    if (topArtists[i].image[r].size == 'extralarge') {
                                        artistImage = topArtists[i].image[r]["#text"];
                                    }
                                    else if (topArtists[i].image[r]["#text"] == '') {
                                        artistImage = "./assets/artist-placeholder.jpg";
                                    }
                                }

                                // create a container for each artist and place their info inside
                                var artist = document.createElement('div');
                                artist.id = 'artist' + [i];
                                artist.style.backgroundRepeat = "no-repeat";
                                artist.innerHTML = "<div class='relative darken'><p class='absolute bottom-0 pl3 pb3 f6 fw4 ttu tracked' style='z-index: 10;'>" + topArtists[i].name + "</p><img src='" +  artistImage + "' class='w-100 br2'></div>";

                                // if this is the first artist give it some special treatment
                                if (i == 0) {
                                    artist.className = "fl w-100 w-50-ns pa1 white";
                                    firstArtist.appendChild(artist);
                                } else {
                                    artist.className = "fl w-50 w-25-ns pa1 white";
                                    artists.appendChild(artist);
                                }
                            }   
                        } else {
                            console.log("something went wrong with the last.fm data");

                            let myLastFm = document.getElementById('lastFm');
                            myLastFm.innerHTML = "<p class='pl2 f6 fw4 ttu tracked'>Oops, something seems to be wrong with the Last.fm api. Maybe try refreshing once to see if it was just a glitch.</p>";
                        }
                    },
                    error: function(jqXHR, textStatus, errorThrown){
                        console.log("last.fm api wasn't able to be reached");

                        let myLastFm = document.getElementById('lastFm');
                        myLastFm.innerHTML = "<p class='pl2 f6 fw4 ttu tracked'>Oops, something seems to be wrong with the Last.fm api. Maybe try refreshing once to see if it was just a glitch.</p>";
                    }
                });
            }

            const lastFMCurrentSong = () => {
                $.ajax({
                    type: 'GET',
                    url: 'https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=michaelschultz&limit=1&api_key=a598c3064191ff18ee9756b6d8e41ea4&format=json',
                    success: function(data) {
                        if (data) {
                            let currentSong = document.getElementById('currentSong');
                            let nowPlaying = document.getElementById('nowPlaying');
                            let recordPlayer = document.getElementById('recordPlayer');
                            let currentTrack = data.recenttracks.track[0];
                            let streaming = currentTrack["@attr"];
                            let artist = currentTrack.artist["#text"];
                            let song = currentTrack.name;

                            if (streaming !== undefined) {
                                recordPlayer.classList.add("spin-animation");
                                currentSong.innerHTML = "Currently listening to: <a href='https://www.youtube.com/results?search_query=" + song + " " + artist + "id='nowPlaying' target='_blank' class='link i color-pink hover-pink'>" + song + " by " + artist + "</a>";
                            } else {
                                currentSong.innerHTML = "Recently listened: <a href='https://www.youtube.com/results?search_query=" + song + " " + artist + "id='nowPlaying' target='_blank' class='link i color-pink hover-pink'>" + song + " by " + artist + "</a>";
                            }
                        } else {
                            console.log("something went wrong with the last.fm data");

                            let myLastFm = document.getElementById('lastFm');
                            myLastFm.innerHTML = "<p class='pl2 f6 fw4 ttu tracked'>Oops, something seems to be wrong with the Last.fm api. Maybe try refreshing once to see if it was just a glitch.</p>";
                        }
                    },
                    error: function(jqXHR, textStatus, errorThrown){
                        console.log("last.fm api wasn't able to be reached");

                        let myLastFm = document.getElementById('lastFm');
                        myLastFm.innerHTML = "<p class='pl2 f6 fw4 ttu tracked'>Oops, something seems to be wrong with the Last.fm api. Maybe try refreshing once to see if it was just a glitch.</p>";
                    }
                });
            }

            // render lastFm data
            lastFMCurrentSong();
            lastFMFavoriteArtists();
        </script>


        <!-- checks to see if script has loaded -->
        <script>
            function async(u, c) {
              var d = document, t = 'script',
                  o = d.createElement(t),
                  s = d.getElementsByTagName(t)[0];
              o.src = u;
              if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
              s.parentNode.insertBefore(o, s);
            }
        </script>

        <script type="text/javascript">
            // calls check function to see if script is loaded
            async('instafeed.min.js', function() {
                var feed = new Instafeed({
                    get: 'user',
                    userId: '123298',
                    accessToken: '123298.1677ed0.352367282faa400bb76d3a2591107c2f',
                    target: 'instafeed',
                    sortBy: 'most-recent',
                    links: true,
                    limit: '6',
                    resolution: 'standard_resolution',
                    template: '<div class="w-50 w-third-ns pa1"><a href="{{link}}"><img src="{{image}}" class="br2"></a></div>'
                });
                feed.run();
            });
        </script>
    </body>
</html>